import "package://pkg.pkl-lang.org/pkl-pantry/org.openapis.v3.contrib@1.0.3#/SchemaGenerator.pkl"

import "./src/common.pkl"
import "./src/js.pkl"
import "./src/dart.pkl"

local commonOutput = SchemaGenerator.generate(common).output;
local jsOutput = SchemaGenerator.generate(js).output;
local dartOutput = SchemaGenerator.generate(dart).output;

local outputType = read?("prop:type")

output = if (outputType == "js") jsOutput else (if (outputType == "dart") dartOutput else commonOutput )